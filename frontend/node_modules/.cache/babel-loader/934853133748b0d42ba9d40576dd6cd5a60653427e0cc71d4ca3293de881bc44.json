{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { uploadFile } from '../services/translationService';\nimport { validateFile } from '../utils/fileValidator';\nexport const useFileUpload = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [fileMetadata, setFileMetadata] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [error, setError] = useState(null);\n  const handleFileSelect = selectedFile => {\n    setError(null);\n\n    // Validate file\n    const validationError = validateFile(selectedFile);\n    if (validationError) {\n      setError(validationError);\n      setFile(null);\n      return false;\n    }\n    setFile(selectedFile);\n    return true;\n  };\n  const handleUpload = async () => {\n    if (!file) {\n      setError('No file selected');\n      return null;\n    }\n    setUploading(true);\n    setError(null);\n    try {\n      const metadata = await uploadFile(file);\n      setFileMetadata(metadata);\n      return metadata;\n    } catch (err) {\n      setError(err.message || 'Upload failed');\n      return null;\n    } finally {\n      setUploading(false);\n    }\n  };\n  const reset = () => {\n    setFile(null);\n    setFileMetadata(null);\n    setError(null);\n    setUploading(false);\n  };\n  return {\n    file,\n    fileMetadata,\n    uploading,\n    error,\n    handleFileSelect,\n    handleUpload,\n    reset\n  };\n};\n_s(useFileUpload, \"Yc5cac+ar7oiaBDqzyGXWkj5kyI=\");","map":{"version":3,"names":["useState","uploadFile","validateFile","useFileUpload","_s","file","setFile","fileMetadata","setFileMetadata","uploading","setUploading","error","setError","handleFileSelect","selectedFile","validationError","handleUpload","metadata","err","message","reset"],"sources":["C:/Users/judic/Documents/excel_translation_toy_pj/frontend/src/hooks/useFileUpload.js"],"sourcesContent":["import { useState } from 'react';\r\nimport { uploadFile } from '../services/translationService';\r\nimport { validateFile } from '../utils/fileValidator';\r\n\r\nexport const useFileUpload = () => {\r\n    const [file, setFile] = useState(null);\r\n    const [fileMetadata, setFileMetadata] = useState(null);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const handleFileSelect = (selectedFile) => {\r\n        setError(null);\r\n\r\n        // Validate file\r\n        const validationError = validateFile(selectedFile);\r\n        if (validationError) {\r\n            setError(validationError);\r\n            setFile(null);\r\n            return false;\r\n        }\r\n\r\n        setFile(selectedFile);\r\n        return true;\r\n    };\r\n\r\n    const handleUpload = async () => {\r\n        if (!file) {\r\n            setError('No file selected');\r\n            return null;\r\n        }\r\n\r\n        setUploading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const metadata = await uploadFile(file);\r\n            setFileMetadata(metadata);\r\n            return metadata;\r\n        } catch (err) {\r\n            setError(err.message || 'Upload failed');\r\n            return null;\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    const reset = () => {\r\n        setFile(null);\r\n        setFileMetadata(null);\r\n        setError(null);\r\n        setUploading(false);\r\n    };\r\n\r\n    return {\r\n        file,\r\n        fileMetadata,\r\n        uploading,\r\n        error,\r\n        handleFileSelect,\r\n        handleUpload,\r\n        reset,\r\n    };\r\n};\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,UAAU,QAAQ,gCAAgC;AAC3D,SAASC,YAAY,QAAQ,wBAAwB;AAErD,OAAO,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC/B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACO,YAAY,EAAEC,eAAe,CAAC,GAAGR,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAExC,MAAMa,gBAAgB,GAAIC,YAAY,IAAK;IACvCF,QAAQ,CAAC,IAAI,CAAC;;IAEd;IACA,MAAMG,eAAe,GAAGb,YAAY,CAACY,YAAY,CAAC;IAClD,IAAIC,eAAe,EAAE;MACjBH,QAAQ,CAACG,eAAe,CAAC;MACzBT,OAAO,CAAC,IAAI,CAAC;MACb,OAAO,KAAK;IAChB;IAEAA,OAAO,CAACQ,YAAY,CAAC;IACrB,OAAO,IAAI;EACf,CAAC;EAED,MAAME,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI,CAACX,IAAI,EAAE;MACPO,QAAQ,CAAC,kBAAkB,CAAC;MAC5B,OAAO,IAAI;IACf;IAEAF,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;IAEd,IAAI;MACA,MAAMK,QAAQ,GAAG,MAAMhB,UAAU,CAACI,IAAI,CAAC;MACvCG,eAAe,CAACS,QAAQ,CAAC;MACzB,OAAOA,QAAQ;IACnB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACVN,QAAQ,CAACM,GAAG,CAACC,OAAO,IAAI,eAAe,CAAC;MACxC,OAAO,IAAI;IACf,CAAC,SAAS;MACNT,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,MAAMU,KAAK,GAAGA,CAAA,KAAM;IAChBd,OAAO,CAAC,IAAI,CAAC;IACbE,eAAe,CAAC,IAAI,CAAC;IACrBI,QAAQ,CAAC,IAAI,CAAC;IACdF,YAAY,CAAC,KAAK,CAAC;EACvB,CAAC;EAED,OAAO;IACHL,IAAI;IACJE,YAAY;IACZE,SAAS;IACTE,KAAK;IACLE,gBAAgB;IAChBG,YAAY;IACZI;EACJ,CAAC;AACL,CAAC;AAAChB,EAAA,CA1DWD,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}